
## 代码风格
 [中文](https://github.com/feng19/erlang_guidelines)  
 [英文](https://github.com/inaka/erlang_guidelines) 
   
## 原则
* 所有模块要很容被替换掉
* 进程所需要的数据全部放进程内，比如玩家数据放在玩家进程，战斗数据放在地图进程，  
  所需要交换的数据放在ETS里。所以ETS数据的实时性将由各个逻辑层决定
* 所有进程需要的数据定义尽量不要带出本模块

## 一些对erlang的错误认识
[关于erlang很慢的错误认识](http://jlouisramblings.blogspot.com/2013/07/problematic-traits-in-erlang.html)

## record
* m_xxx  内存中(ETS,进程字典)
* r_xxx  进程交互
* p_xxx  数据库

## 函数
* 所有提函数如果是**异步（不会阻塞调用进程）**访问的 都是 xxx_() 否則是 xxx()

 
## 其他的设计
* 数据划分
```
   玩家 私有数据(存在于玩家进程)
       公共数据-- 离线 （存于 cache_pub）
             -- 在线  （存于 cache_online）


   怪物--- 全局 (cache_monster)
      --- 私有 （存于地图进程）


```

### 战斗
* 技能学习/升级在玩家进程 
* 玩家(宠物)属性计算 在玩家进程 怪物属性计算地图进程来做，但数据存在ets里 
* 使用技能在玩家进程做判断，地图进程计算
* 玩家buff 添加、删除、驱散 全部放在玩家进程，但是计算等等都在地图进程
* 战斗计算 地图进程来做
    
### 副本、活动 
* 副本、活动 写一个默认的通用流程; 特殊的自己写
### 背包  
* 增、删、改、合并、*整理*
  
### 技能
```
技能类型 角色技能、怪物技能、生活技能、 宠物技能
作用目标类型 buff/触发器/技能、生物 （*天赋技能*）
作用目标关系 敌方、友方、中立
单体、AOE
主动、被动
远程、近身

**作用类** 
目标选择方式 （矩形、圆形， 环形，扇形）
作用距离、作用半径

多段伤害
间隔时间、最大次数
伤害数值

技能所带的buff、触发器

技能使用消耗/限制、技能升级、技能学习 、技能点升级、技能书升级、使用技能升级
以及其他的配置，比如天赋技能
cd ，技能cd组
```
 ### 其他系统不考虑   

## 代码目录结构

```                                                                                
    @todo                                                                          
```        
 

  
  
  
  